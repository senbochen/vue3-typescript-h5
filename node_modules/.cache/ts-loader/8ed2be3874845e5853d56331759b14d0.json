{"remainingRequest":"/Users/mac/Desktop/vue-template/vue3-typescript-template/node_modules/babel-loader/lib/index.js!/Users/mac/Desktop/vue-template/vue3-typescript-template/node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!/Users/mac/Desktop/vue-template/vue3-typescript-template/src/service/index.ts","dependencies":[{"path":"/Users/mac/Desktop/vue-template/vue3-typescript-template/src/service/index.ts","mtime":1628736917872},{"path":"/Users/mac/Desktop/vue-template/vue3-typescript-template/node_modules/cache-loader/dist/cjs.js","mtime":1618564461767},{"path":"/Users/mac/Desktop/vue-template/vue3-typescript-template/node_modules/babel-loader/lib/index.js","mtime":1618564461759},{"path":"/Users/mac/Desktop/vue-template/vue3-typescript-template/node_modules/ts-loader/index.js","mtime":1626082511152}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJ2YW50L2VzL3RvYXN0L3N0eWxlIjsKaW1wb3J0IF9Ub2FzdCBmcm9tICJ2YW50L2VzL3RvYXN0IjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgQ09ERSwgQ09ERV9URVhUIH0gZnJvbSAnLi9jb2RlJzsKYXhpb3MuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKYXhpb3MuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICBfVG9hc3QuY2xlYXIoKTsKCiAgY29uc3QgewogICAgc3RhdHVzCiAgfSA9IHJlc3BvbnNlOwogIGNvbnN0IGluZGV4ID0gQ09ERS5maW5kSW5kZXgocmVzID0+IHJlcyA9PT0gc3RhdHVzKTsKCiAgaWYgKENPREUuaW5jbHVkZXMoc3RhdHVzKSkgewogICAgX1RvYXN0LmZhaWwoQ09ERV9URVhUW2luZGV4XSk7CgogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KENPREVfVEVYVFtpbmRleF0pOwogIH0KCiAgcmV0dXJuIHJlc3BvbnNlOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTs="},{"version":3,"sources":["/Users/mac/Desktop/vue-template/vue3-typescript-template/src/service/index.ts"],"names":[],"mappings":";;AACA,OAAO,KAAP,MAAkB,OAAlB;AAEA,SAAS,IAAT,EAAe,SAAf,QAAgC,QAAhC;AAGA,KAAK,CAAC,YAAN,CAAmB,OAAnB,CAA2B,GAA3B,CAA+B,UAAU,MAAV,EAAgB;AAE7C,SAAO,MAAP;AACD,CAHD,EAGG,UAAU,KAAV,EAAmE;AAEpE,SAAO,OAAO,CAAC,MAAR,CAAe,KAAf,CAAP;AACD,CAND;AASA,KAAK,CAAC,YAAN,CAAmB,QAAnB,CAA4B,GAA5B,CAAgC,UAAU,QAAV,EAAkB;AAChD,SAAM,KAAN;;AACA,QAAM;AAAE,IAAA;AAAF,MAAa,QAAnB;AACA,QAAM,KAAK,GAAG,IAAI,CAAC,SAAL,CAAgB,GAAD,IAAiB,GAAG,KAAK,MAAxC,CAAd;;AACA,MAAI,IAAI,CAAC,QAAL,CAAc,MAAd,CAAJ,EAA2B;AACzB,WAAM,IAAN,CAAW,SAAS,CAAC,KAAD,CAApB;;AACA,WAAO,OAAO,CAAC,MAAR,CAAe,SAAS,CAAC,KAAD,CAAxB,CAAP;AACD;;AACD,SAAO,QAAP;AACD,CATD,EASG,UAAU,KAAV,EAAmE;AAEpE,SAAO,OAAO,CAAC,MAAR,CAAe,KAAf,CAAP;AACD,CAZD","sourcesContent":["\nimport axios from 'axios'\nimport { Toast } from 'vant'\nimport { CODE, CODE_TEXT } from './code'\n\n\naxios.interceptors.request.use(function (config) {\n\n  return config\n}, function (error: AxiosLib.ExtendsAxiosError<FetchResponse.Response>) {\n\n  return Promise.reject(error)\n})\n\n\naxios.interceptors.response.use(function (response) {\n  Toast.clear()\n  const { status } = response\n  const index = CODE.findIndex((res: number) => res === status)\n  if (CODE.includes(status)) {\n    Toast.fail(CODE_TEXT[index])\n    return Promise.reject(CODE_TEXT[index])\n  }\n  return response\n}, function (error: AxiosLib.ExtendsAxiosError<FetchResponse.Response>) {\n\n  return Promise.reject(error)\n})\n\n\n"],"sourceRoot":""}]}