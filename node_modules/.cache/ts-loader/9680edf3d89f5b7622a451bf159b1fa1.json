{"remainingRequest":"/Users/mac/Desktop/vue-template/vue3-typescript-template/node_modules/babel-loader/lib/index.js!/Users/mac/Desktop/vue-template/vue3-typescript-template/node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!/Users/mac/Desktop/vue-template/vue3-typescript-template/src/utlils/index.ts","dependencies":[{"path":"/Users/mac/Desktop/vue-template/vue3-typescript-template/src/utlils/index.ts","mtime":1628760233507},{"path":"/Users/mac/Desktop/vue-template/vue3-typescript-template/node_modules/cache-loader/dist/cjs.js","mtime":1618564461767},{"path":"/Users/mac/Desktop/vue-template/vue3-typescript-template/node_modules/babel-loader/lib/index.js","mtime":1618564461759},{"path":"/Users/mac/Desktop/vue-template/vue3-typescript-template/node_modules/ts-loader/index.js","mtime":1626082511152}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIOWkhOeQhui0n+aVsAogKiBAcmV0dXJucyDlpITnkIblkI7nmoTlgLwKICovCmNvbnN0IGhhbmRsZU1pbnVzID0gdmFsID0+IHsKICBjb25zdCBvcmdWYWx1ZSA9IHZhbC52YWx1ZTsKICBjb25zdCBmaXJzdCA9IG9yZ1ZhbHVlLmNoYXJBdCgwKTsKICBjb25zdCBudW0gPSBvcmdWYWx1ZS5zdWJzdHJpbmcoMSwgb3JnVmFsdWUubGVuZ3RoKTsKICBjb25zdCB2YWx1ZSA9IG51bS5yZXBsYWNlKC9bXjAtOV0vZywgJycpOyAvLyDov4fmu6TpnZ7mlbDlrZflrZfnrKYKCiAgcmV0dXJuIGZpcnN0ID09PSAnLScgPyBgJHtmaXJzdH0ke3ZhbHVlfWAgOiAnJzsKfTsKLyoqCiAqIOWkhOeQhuWwj+aVsOeCuQogKiBAcmV0dXJucyDlpITnkIblkI7nmoTlgLwKICovCgoKY29uc3QgaGFuZGxlRGVjaW1hbCA9ICh2YWwsIGRlY2ltYWxMZW4pID0+IHsKICBjb25zdCBudW0gPSB2YWwudmFsdWUucmVwbGFjZSgvW14wLTkuXS9nLCAnJyk7IC8vIOWOu+aOiemdnuaVsOWtl+WSjOWwj+aVsOeCueWtl+espgoKICBjb25zdCByZWcgPSBuZXcgUmVnRXhwKGBcXGQrXFwuP1xcZHswLCR7ZGVjaW1hbExlbn19YCk7IC8vIOagoemqjOi+k+WFpeaVsOWtl+ato+WImQoKICBjb25zdCB2YWx1ZSA9IG51bS5tYXRjaChyZWcpOwogIHJldHVybiB2YWx1ZSA/IHZhbHVlWzBdIDogJyc7Cn07Ci8qKgogKiDlpITnkIbmlbTmlbAKICovCgoKY29uc3QgaGFuZGxlSW50ZWdlciA9IHZhbCA9PiB7CiAgY29uc3Qgb3JnVmFsdWUgPSB2YWwudmFsdWU7CiAgY29uc3QgZmlyc3QgPSBvcmdWYWx1ZS5jaGFyQXQoMCk7CiAgY29uc3QgcmVnID0gbmV3IFJlZ0V4cCgnXFwtP1xcZCsnKTsgLy8g5qCh6aqM6L6T5YWl5pWw5a2X5q2j5YiZCgogIGlmIChmaXJzdCA9PT0gJy0nICYmIG9yZ1ZhbHVlLmxlbmd0aCA9PT0gMSkgewogICAgcmV0dXJuIGZpcnN0OwogIH0gZWxzZSBpZiAoZmlyc3QgPT09ICctJyAmJiBvcmdWYWx1ZS5sZW5ndGggPiAxKSB7CiAgICBjb25zdCBudW0gPSBvcmdWYWx1ZS5zdWJzdHJpbmcoMSwgb3JnVmFsdWUubGVuZ3RoKTsKICAgIGNvbnN0IHZhbHVlID0gbnVtLnJlcGxhY2UoL1teMC05XS9nLCAnJyk7CiAgICBjb25zdCBudW1iZXIgPSB2YWx1ZSA/IHZhbHVlIDogJyc7CiAgICByZXR1cm4gZmlyc3QgPT09ICctJyA/IGAke2ZpcnN0fSR7bnVtYmVyfWAgOiBudW1iZXI7CiAgfSBlbHNlIHsKICAgIGNvbnN0IHZhbHVlID0gb3JnVmFsdWUubWF0Y2gocmVnKTsKICAgIHJldHVybiB2YWx1ZSA/IHZhbHVlWzBdIDogJyc7CiAgfQp9OyAvLyDoh6rlrprkuYnmjIfku6R2LW51bWJlcu+8jOmZkOWItui+k+WFpeaVsOWtlwoKCmV4cG9ydCBkZWZhdWx0IChWdWUgPT4gewogIFZ1ZS5kaXJlY3RpdmUoJ251bWJlcicsIHsKICAgIC8vIOW9k+iiq+e7keWumueahOWFg+e0oOaPkuWFpeWIsCBET00g5Lit5pe24oCm4oCmCiAgICBiaW5kOiBmdW5jdGlvbiAoZWwsIGJpbmRpbmdzLCB2bm9kZSkgewogICAgICBlbC5oYW5kbGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnN0IGVsZVZ1ZSA9IHZub2RlLmNoaWxkOwogICAgICAgIGNvbnN0IGlzRGVjaW1hbCA9IGJpbmRpbmdzLm1vZGlmaWVycy5kZWNpbWFsOyAvLyDorr7nva7kuLrlsI/mlbAKCiAgICAgICAgY29uc3QgZGVjaW1hbExlbiA9IGJpbmRpbmdzLmFyZyA/IGJpbmRpbmdzLmFyZyA6IDI7IC8vIOWwj+aVsOeCueWQjuWHoOS9je+8jOm7mOiupOWwj+aVsOeCueWQjuS/neeVmTLkvY0KCiAgICAgICAgY29uc3QgaXNNaW51cyA9IGJpbmRpbmdzLm1vZGlmaWVycy5taW51czsgLy8g6K6+572u5Li66LSf5pWw5oyH5LukCgogICAgICAgIGNvbnN0IGludGVnZXIgPSBiaW5kaW5ncy5tb2RpZmllcnMuaW50ZWdlcjsgLy8g6K6+572u5Y+q5Y+W5pW05pWwCgogICAgICAgIGxldCByZXN1bHQgPSAnJzsgLy8g5ZyoZWwtaW5wdXTkuIrnu5HlrprmjIfku6TvvIznu5HlrprmmK9pbnB1dOeahOeItue6p++8jOaJgOS7pemcgOimgeagueaNrmRvbeiOt+WPluWtkOWFg+e0oOi/m+ihjOagoemqjOOAggoKICAgICAgICBjb25zdCB2YWwgPSBlbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKVswXTsKICAgICAgICBpZiAoIXZhbCkgcmV0dXJuOyAvLyDliKTmlq3mmK/lkKbmmK/otJ/mlbDmjIfku6QKCiAgICAgICAgaWYgKGlzTWludXMpIHsKICAgICAgICAgIC8vIOmZkOWItui0n+aVsOmAu+i+kQogICAgICAgICAgcmVzdWx0ID0gaGFuZGxlTWludXModmFsKTsKICAgICAgICB9IGVsc2UgaWYgKGlzRGVjaW1hbCkgewogICAgICAgICAgLy8g6ZmQ5Yi25bCP5pWw54K56YC76L6RCiAgICAgICAgICByZXN1bHQgPSBoYW5kbGVEZWNpbWFsKHZhbCwgZGVjaW1hbExlbik7CiAgICAgICAgfSBlbHNlIGlmIChpbnRlZ2VyKSB7CiAgICAgICAgICAvLyDlpITnkIbmlbTmlbAKICAgICAgICAgIHJlc3VsdCA9IGhhbmRsZUludGVnZXIodmFsKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8g6ZmQ5Yi25Y+q6L6T5YWl5pWw5a2XCiAgICAgICAgICByZXN1bHQgPSB2YWwudmFsdWUucmVwbGFjZSgvW14wLTldL2csICcnKTsKICAgICAgICB9IC8vIOWIpOaWreWAvOaYr+WQpuS4uuepugoKCiAgICAgICAgaWYgKCFyZXN1bHQpIHsKICAgICAgICAgIGVsZVZ1ZS5pc0NvbXBvc2luZyA9IHRydWU7IC8vIOmBv+WFjeWkmuasoemHjeWkjeinpuWPkeihqOWNleagoemqjAogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBlbGVWdWUuaXNDb21wb3NpbmcgPSBmYWxzZTsKICAgICAgICB9CgogICAgICAgIHZhbC52YWx1ZSA9IHJlc3VsdDsgLy8g6K6+572uaW5wdXTlgLwKCiAgICAgICAgdm5vZGUuZGF0YS5tb2RlbC5jYWxsYmFjayhyZXN1bHQpOyAvLyDorr7nva7nu5HlrprlgLwKICAgICAgfTsgLy8g55uR5ZCsaW5wdXTkuovku7YKCgogICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGVsLmhhbmRsZXIpOwogICAgfSwKICAgIHVuYmluZDogZnVuY3Rpb24gKGVsKSB7CiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZWwuaGFuZGxlcik7CiAgICB9CiAgfSk7Cn0pOw=="},{"version":3,"sources":["/Users/mac/Desktop/vue-template/vue3-typescript-template/src/utlils/index.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * 处理负数\n * @returns 处理后的值\n */\nconst handleMinus = (val: ObjectType) => {\n  const orgValue = val.value\n  const first = orgValue.charAt(0)\n  const num = orgValue.substring(1, orgValue.length)\n  const value = num.replace(/[^0-9]/g, '') // 过滤非数字字符\n  return first === '-' ? `${first}${value}` : ''\n}\n\n/**\n * 处理小数点\n * @returns 处理后的值\n */\nconst handleDecimal = (val: ObjectType, decimalLen: number) => {\n  const num = val.value.replace(/[^0-9.]/g, '') // 去掉非数字和小数点字符\n  const reg = new RegExp(`\\\\d+\\\\.?\\\\d{0,${decimalLen}}`) // 校验输入数字正则\n  const value = num.match(reg)\n  return value ? value[0] : ''\n}\n\n/**\n * 处理整数\n */\nconst handleInteger = (val: ObjectType) => {\n  const orgValue = val.value\n  const first = orgValue.charAt(0)\n  const reg = new RegExp('\\\\-?\\\\d+') // 校验输入数字正则\n  if (first === '-' && orgValue.length === 1) {\n    return first\n  } else if (first === '-' && orgValue.length > 1) {\n    const num = orgValue.substring(1, orgValue.length)\n    const value = num.replace(/[^0-9]/g, '')\n    const number = value ? value : ''\n    return first === '-' ? `${first}${number}` : number\n  } else {\n    const value = orgValue.match(reg)\n    return value ? value[0] : ''\n  }\n\n}\n\n\n// 自定义指令v-number，限制输入数字\nexport default (Vue: any) => {\n  Vue.directive('number', {\n    // 当被绑定的元素插入到 DOM 中时……\n    bind: function (el: any, bindings: ObjectType, vnode: ObjectType) {\n      el.handler = function () {\n        const eleVue = vnode.child\n        const isDecimal = bindings.modifiers.decimal // 设置为小数\n        const decimalLen = bindings.arg ? bindings.arg : 2 // 小数点后几位，默认小数点后保留2位\n        const isMinus = bindings.modifiers.minus // 设置为负数指令\n        const integer = bindings.modifiers.integer // 设置只取整数\n\n        let result = ''\n\n        // 在el-input上绑定指令，绑定是input的父级，所以需要根据dom获取子元素进行校验。\n        const val = el.getElementsByTagName('input')[0]\n        if (!val) return\n\n        // 判断是否是负数指令\n        if (isMinus) {\n          // 限制负数逻辑\n          result = handleMinus(val)\n        } else if (isDecimal) {\n          // 限制小数点逻辑\n          result = handleDecimal(val, decimalLen)\n        } else if (integer) { // 处理整数\n          result = handleInteger(val)\n        } else {\n          // 限制只输入数字\n          result = val.value.replace(/[^0-9]/g, '')\n        }\n        // 判断值是否为空\n        if (!result) {\n          eleVue.isComposing = true // 避免多次重复触发表单校验\n        } else {\n          eleVue.isComposing = false\n        }\n\n        val.value = result // 设置input值\n        vnode.data.model.callback(result) // 设置绑定值\n      }\n      // 监听input事件\n      el.addEventListener('input', el.handler)\n    },\n    unbind: function (el: any) {\n      el.removeEventListener('input', el.handler)\n    }\n\n  })\n}\n\n\n\n"],"sourceRoot":""}]}