{"remainingRequest":"/Users/mac/Desktop/vue-template/vue3-typescript-template/node_modules/babel-loader/lib/index.js!/Users/mac/Desktop/vue-template/vue3-typescript-template/node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!/Users/mac/Desktop/vue-template/vue3-typescript-template/src/permission.ts","dependencies":[{"path":"/Users/mac/Desktop/vue-template/vue3-typescript-template/src/permission.ts","mtime":1628845070928},{"path":"/Users/mac/Desktop/vue-template/vue3-typescript-template/node_modules/cache-loader/dist/cjs.js","mtime":1618564461767},{"path":"/Users/mac/Desktop/vue-template/vue3-typescript-template/node_modules/babel-loader/lib/index.js","mtime":1618564461759},{"path":"/Users/mac/Desktop/vue-template/vue3-typescript-template/node_modules/ts-loader/index.js","mtime":1626082511152}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoKICogQEF1dGhvcjogeW91ciBuYW1lCiAqIEBEYXRlOiAyMDIxLTA4LTEzIDE1OjU0OjM1CiAqIEBMYXN0RWRpdFRpbWU6IDIwMjEtMDgtMTMgMTY6NTc6NDYKICogQExhc3RFZGl0b3JzOiBQbGVhc2Ugc2V0IExhc3RFZGl0b3JzCiAqIEBEZXNjcmlwdGlvbjogSW4gVXNlciBTZXR0aW5ncyBFZGl0CiAqIEBGaWxlUGF0aDogL3Z1ZTMtdHlwZXNjcmlwdC10ZW1wbGF0ZS9zcmMvcGVybWlzc2lvbi50cwogKi8KaW1wb3J0IHJvdXRlciBmcm9tICcuL3JvdXRlcic7CmltcG9ydCB7IHN0b3JlIH0gZnJvbSAnQC9zdG9yZS9pbmRleCc7CnJvdXRlci5iZWZvcmVFYWNoKCh0bywgZnJvbSwgbmV4dCkgPT4gewogIC8vIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoKQogIGNvbnNvbGUubG9nKHN0b3JlLnN0YXRlKTsKCiAgaWYgKCFzdG9yZS5zdGF0ZS50b2tlbikgewogICAgaWYgKHRvLnBhdGggIT09ICcvbG9naW4nKSB7CiAgICAgIHJldHVybiBuZXh0KHsKICAgICAgICBwYXRoOiAnL2xvZ2luJywKICAgICAgICBxdWVyeTogewogICAgICAgICAgcmVkaXJlY3Q6IHRvLmZ1bGxQYXRoCiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9CgogIG5leHQoKTsKfSk7CnJvdXRlci5hZnRlckVhY2godG8gPT4gewogIGRvY3VtZW50LnRpdGxlID0gdG8ubWV0YS50aXRsZTsKfSk7"},{"version":3,"sources":["/Users/mac/Desktop/vue-template/vue3-typescript-template/src/permission.ts"],"names":[],"mappings":"AAAA;;;;;;;AAOG;AAGH,OAAO,MAAP,MAAmB,UAAnB;AAEA,SAAS,KAAT,QAAsB,eAAtB;AACA,MAAM,CAAC,UAAP,CAAkB,CAAC,EAAD,EAA8B,IAA9B,EAA6D,IAA7D,KAA0E;AAC1F;AACA,EAAA,OAAO,CAAC,GAAR,CAAY,KAAK,CAAC,KAAlB;;AACA,MAAI,CAAC,KAAK,CAAC,KAAN,CAAY,KAAjB,EAAwB;AAEtB,QAAI,EAAE,CAAC,IAAH,KAAY,QAAhB,EAA0B;AACxB,aAAO,IAAI,CAAC;AACV,QAAA,IAAI,EAAE,QADI;AAEV,QAAA,KAAK,EAAE;AAAE,UAAA,QAAQ,EAAE,EAAE,CAAC;AAAf;AAFG,OAAD,CAAX;AAID;AACF;;AACD,EAAA,IAAI;AACL,CAbD;AAeA,MAAM,CAAC,SAAP,CAAkB,EAAD,IAAgC;AAC/C,EAAA,QAAQ,CAAC,KAAT,GAAiB,EAAE,CAAC,IAAH,CAAQ,KAAzB;AACD,CAFD","sourcesContent":["/*\n * @Author: your name\n * @Date: 2021-08-13 15:54:35\n * @LastEditTime: 2021-08-13 16:57:46\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /vue3-typescript-template/src/permission.ts\n */\n\n\nimport router from './router'\nimport { RouteLocationNormalized } from 'vue-router'\nimport { store } from '@/store/index'\nrouter.beforeEach((to: RouteLocationNormalized, from: RouteLocationNormalized, next: any) => {\n  // const store = useStore()\n  console.log(store.state)\n  if (!store.state.token) {\n\n    if (to.path !== '/login') {\n      return next({\n        path: '/login',\n        query: { redirect: to.fullPath }\n      })\n    }\n  }\n  next()\n})\n\nrouter.afterEach((to: RouteLocationNormalized) => {\n  document.title = to.meta.title as string\n})\n"],"sourceRoot":""}]}