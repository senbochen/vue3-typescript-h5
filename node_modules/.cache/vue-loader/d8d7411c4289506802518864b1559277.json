{"remainingRequest":"/Users/mac/Desktop/vue-template/vue3-typescript-template/node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!/Users/mac/Desktop/vue-template/vue3-typescript-template/src/App.vue?vue&type=style&index=0&id=7ba5bd90&scoped=true&lang=scss","dependencies":[{"path":"/Users/mac/Desktop/vue-template/vue3-typescript-template/src/App.vue","mtime":1629082209353},{"path":"/Users/mac/Desktop/vue-template/vue3-typescript-template/node_modules/css-loader/dist/cjs.js","mtime":1628242445926},{"path":"/Users/mac/Desktop/vue-template/vue3-typescript-template/node_modules/vue-loader/dist/stylePostLoader.js","mtime":1628647442540},{"path":"/Users/mac/Desktop/vue-template/vue3-typescript-template/node_modules/postcss-loader/dist/cjs.js","mtime":1628242451495},{"path":"/Users/mac/Desktop/vue-template/vue3-typescript-template/node_modules/sass-loader/dist/cjs.js","mtime":1618564474307},{"path":"/Users/mac/Desktop/vue-template/vue3-typescript-template/node_modules/cache-loader/dist/cjs.js","mtime":1618564461767},{"path":"/Users/mac/Desktop/vue-template/vue3-typescript-template/node_modules/vue-loader/dist/index.js","mtime":1628647442540}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CnAgewogIGZvbnQtc2l6ZTogMTRweDsKfQo="},{"version":3,"sources":["/Users/mac/Desktop/vue-template/vue3-typescript-template/src/App.vue"],"names":[],"mappings":";AAgEA,EAAE;EACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACjB","file":"/Users/mac/Desktop/vue-template/vue3-typescript-template/src/App.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"common-container\">\n    <!-- vue3 组件动态缓存的写法 -->\n    <router-view v-slot=\"{ Component }\">\n      <keep-alive :include=\"Array.from(cacheList)\" :max=\"8\">\n        <component :is=\"Component\" />\n      </keep-alive>\n    </router-view>\n\n    <van-tabbar\n      v-if=\"route.name !== 'Login'\"\n      v-model=\"active\"\n      active-color=\"#4994df\"\n      inactive-color=\"#000\"\n      @change=\"onChange\"\n    >\n      <van-tabbar-item name=\"home\" icon=\"home-o\">首页</van-tabbar-item>\n      <van-tabbar-item name=\"house\" icon=\"search\">社区</van-tabbar-item>\n      <van-tabbar-item name=\"friend\" icon=\"friends-o\">朋友</van-tabbar-item>\n      <van-tabbar-item name=\"set\" icon=\"setting-o\">设置</van-tabbar-item>\n    </van-tabbar>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, watch } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { useStore } from '@/store/index'\nimport { MutationsEnum } from '@/store/mutation-types'\nexport default defineComponent({\n  name: 'App',\n  setup() {\n    const active = ref('home')\n    const cacheList = ref(new Set())\n    const router = useRouter()\n    const route = useRoute()\n    const store = useStore()\n    const onChange = () => {\n      store.commit(MutationsEnum.ChangeTabName, { activeTabName: active.value })\n      router.push(`/${active.value}`)\n    }\n    // demo\n    watch(\n      () => store.state.activeTabName,\n      (newVal: any) => {\n        active.value = newVal\n      }\n    )\n    watch(\n      () => route,\n      (newVal: any) => {\n        if (newVal.meta.keepAlive) {\n          cacheList.value.add(newVal.name)\n        }\n      },\n      { deep: true }\n    )\n\n    return { onChange, active, route, cacheList }\n  }\n})\n</script>\n\n<style scoped lang='scss'>\np {\n  font-size: 14px;\n}\n</style>\n"]}]}